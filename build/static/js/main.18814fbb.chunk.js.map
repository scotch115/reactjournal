{"version":3,"sources":["Hello.js","Date.js","Config.js","index.js"],"names":["name","date","DB_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","App","app","firebase","apps","length","initializeApp","database","ref","child","state","isSignedIn","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","GithubAuthProvider","TwitterAuthProvider","callbacks","signInSuccessfulWithAuthResult","Date","today","getMonth","getDate","getFullYear","title","text","theme","entries","handleChange","bind","handleSubmit","removeTags","value","this","setState","newTheme","itemsRef","onAuthStateChanged","user","console","log","displayName","currentUser","uid","on","snapshot","val","newState","entry","push","id","articleBody","unregisterAuthObserver","str","toString","replace","e","preventDefault","editedTxt","signOut","then","error","itemId","remove","className","style","backgroundColor","height","padding","Hello","onChange","modules","formats","bounds","placeholder","props","type","onClick","map","whiteSpace","removeItem","signOutCurrentUser","color","href","src","alt","width","position","top","firebaseAuth","Component","toolbar","size","clipboard","matchVisual","render","document","getElementById"],"mappings":"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","file":"static/js/main.18814fbb.chunk.js","sourcesContent":["import React from 'react';\n\nexport default ({ name }) => <h1>Hello {name}!</h1>;\n","import React from 'react';\n\nexport default ({ date }) => <p>Today's date is {date} </p>;","export const DB_CONFIG = {\n\tapiKey: \"AIzaSyBljVtRAbzvQMdzIskfxb_HSUrs5vKcNBk\",\n\tauthDomain: \"react-journal-cf451.firebaseapp.com\",\n\tdatabaseURL: \"https://react-journal-cf451.firebaseio.com\",\n\tprojectId: \"react-journal-cf451\",\n\tstorageBucket: \"react-journal-cf451.appspot.com\",\n\tmessagingSenderId: \"768206838911\",\n\tappId: \"1:768206838911:web:5ec346a9b6692b3627334a\",\n\tmeasurementId: \"G-7D2X5J80G6\"\n};\n","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Hello from './Hello';\nimport Today from './Date';\nimport PropTypes from 'prop-types';\nimport ReactQuill from 'react-quill';\nimport firebase from 'firebase';\nimport { DB_CONFIG } from './Config';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\n\nclass App extends Component {\n  constructor() {\n    super();\n\t\tthis.app = !firebase.apps.length ? firebase.initializeApp(DB_CONFIG) : firebase.app();\n\t\tthis.database = this.app.database().ref().child('entries/');\n\t\t// this.database = this.app.database().ref('entries/');\n\n\t\tthis.state = {\n\t\t\tisSignedIn: false\n\t\t}\n\n\t\tconst uiConfig = {\n\t\t\tsignInFlow: 'popup',\n\t\t\tsignInOptions: [\n\t\t\t\tfirebase.auth.GoogleAuthProvider.PROVIDER_ID,\n\t\t\t\tfirebase.auth.GithubAuthProvider.PROVIDER_ID,\n\t\t\t\tfirebase.auth.TwitterAuthProvider.PROVIDER_ID\n\t\t\t],\n\t\t\tcallbacks: {\n\t\t\t\tsignInSuccessfulWithAuthResult: () => false\n\t\t\t}\n\t\t};\n\n\n    var date = new Date();\n    var today = (date.getMonth()+1)+'/'+date.getDate()+'/'+date.getFullYear();\n\t\tvar title = (date.getMonth()+1)+'/'+date.getDate();\n\n    this.state = {\n      name: 'Friend',\n      date: today,\n      text: '',\n      theme: 'snow',\n\t\t\ttitle: title,\n\t\t\tentries: [],\n\t\t\tisSignedIn: false,\n\t\t\tuiConfig: uiConfig\n    };\n    this.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.removeTags = this.removeTags.bind(this);\n  }\n\n  handleChange (value) {\n    this.setState({\n\t\t\ttext: value\n\t\t});\n  }\n\n  handleThemeChange (newTheme) {\n    if (newTheme === \"core\") {\n      newTheme = null;\n      this.setState({ theme: newTheme });\n    }\n  }\n\n\tcomponentDidMount() {\n\t\t\tvar itemsRef = firebase.database().ref('entries/');\n\t\t\tfirebase.auth().onAuthStateChanged(function(user) {\n\t\t\t\t\tconsole.log(\"Current user logged in is \"+user.displayName);\n\t\t\t\t\tif (user) {\n\t\t\t\t\t\titemsRef = firebase.database().ref(`entries/${firebase.auth().currentUser.uid}/`)\n\t\t\t\t\t\tconsole.log(\"Inside if statement: \"+itemsRef);\n\t\t\t\t\t\titemsRef.on('value', (snapshot) => {\n\t\t\t\t\t\tlet entries = snapshot.val();\n\t\t\t\t\t\tlet newState = [];\n\t\t\t\t\t\tfor (let entry in entries) {\n\t\t\t\t\t\t\tnewState.push({\n\t\t\t\t\t\t\t\tid: entry,\n\t\t\t\t\t\t\t\ttitle: entries[entry].title,\n\t\t\t\t\t\t\t\tarticleBody: entries[entry].articleBody\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tentries: newState\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\titemsRef = firebase.database().ref('entries/')\n\t\t\t\t\t\tconsole.log(\"Inside else statement: \"+itemsRef);\n\t\t\t\t\t\titemsRef.on('value', (snapshot) => {\n\t\t\t\t\t\tlet entries = snapshot.val();\n\t\t\t\t\t\tlet newState = [];\n\t\t\t\t\t\tfor (let entry in entries) {\n\t\t\t\t\t\t\tnewState.push({\n\t\t\t\t\t\t\t\tid: entry,\n\t\t\t\t\t\t\t\ttitle: entries[entry].title,\n\t\t\t\t\t\t\t\tarticleBody: entries[entry].articleBody\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tentries: newState\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t\tconsole.log(\"itemsRef once conditional statement has been executed \"+itemsRef);\n\n\t\tthis.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\n\t\t\t(user) => this.setState({isSignedIn: !!user})\n\t\t);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\n\t\t\t(user) => this.setState({isSignedIn: !!user})\n\t\t);\n\t}\n\n\tremoveTags(str) {\n      if ((str===null) || (str===''))\n\t\t\t{\n      \treturn false;\n      } else {\n      str = str.toString();\n      return str.replace( /(<([^>]+)>)/ig, '\\n');\n\t\t}\n   }\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\t// var userId = firebase.auth().currentUser.displayName;\n\t\tconst itemsRef = firebase.database().ref(`entries/${this.app.auth().currentUser.uid}`);\n\t\t// var editedTxt = this.state.text.slice(3, this.state.text.length - 4);\n\t\tvar editedTxt = this.removeTags(this.state.text);\n\t\tconst entry = {\n\t\t\ttitle: this.state.title,\n\t\t\tarticleBody: editedTxt\n\t\t}\n\t\titemsRef.push(entry);\n\t\tthis.setState({\n\t\t\tarticleBody: '',\n\t\t\ttext: ''\n\t\t});\n\t}\n\n\tsignOutCurrentUser(e) {\n\t\tfirebase.auth().signOut().then(function() {\n\t\t\tconsole.log('User signed out');\n\t\t}, function(error) {\n\t\t\tconsole.error('Error signing out', error);\n\t\t});\n\t}\n\n\tremoveItem(itemId) {\n\t\t// var userId = firebase.auth().currentUser.displayName;\n\t\tconst itemRef = firebase.database().ref(`entries/${this.app.auth().currentUser.uid}/${itemId}`);\n\t\titemRef.remove();\n\t}\n\n\n\n  render() {\n\t\tif (!this.state.isSignedIn) {\n\t\t\treturn(\n\t\t\t\t<div className=\"container box\" style={{position: \"relative\", top: \"20vh\"}}>\n\t\t\t\t\t<div className=\" title is-4 has-text-centered\">React Journal</div>\n\t\t\t\t\t<p className=\"has-text-centered\">Please sign in:</p>\n\t\t\t\t\t<StyledFirebaseAuth uiConfig={this.state.uiConfig} firebaseAuth={firebase.auth()} />\n\t\t\t\t\t</div>\n\t\t\t)\n\t\t};\n    return (\n      <div className=\"container\" style={{ backgroundColor: \"white\", height: \"100vh\", padding: \"10px\"}}>\n        <div className=\"title\">\n          <Hello name={firebase.auth().currentUser.displayName} />\n        </div>\n        <div className=\"subtitle\">\n          <Today date={this.state.date} />\n        </div>\n        <div>\n          <p>Begin your day here:</p>\n          <ReactQuill\n            theme={this.state.theme}\n            onChange={this.handleChange}\n            value={this.state.text}\n            modules={App.modules}\n            formats={App.formats}\n            bounds={'.app'}\n            placeholder={this.props.placeholder}\n          />\n         <br />\n         <button className=\"button\" type=\"submit\" onClick={this.handleSubmit}>Save entry</button>\n         </div>\n         <br />\n         <div className=\"container box\" style={{backgroundColor: \"white\"}}>\n         <p className=\"title is-4\">Past Entries</p>\n          <div className=\"tile is-ancestor\">\n            <div className=\"tile is-vertical is-parent\" id=\"tileContainer\">\n\t\t\t\t\t\t{this.state.entries.map((entry) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"tile box is-child notification is-white\" style={{whiteSpace: \"pre-line\"}}>\n\t\t\t\t\t\t\t\t<button className=\"delete\" onClick={() => this.removeItem(entry.id)}></button>\n\t\t\t\t\t\t\t\t\t<p className=\"title is-5\">{entry.title}</p>\n\t\t\t\t\t\t\t\t\t<div className=\"has-text-centered\"></div>\n\t\t\t\t\t\t\t\t\t{entry.articleBody}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n          </div>\n         </div>\n\t\t\t\t <button className=\"button is-rounded\" onClick={this.signOutCurrentUser}>Sign Out</button>\n\t\t\t\t <br /><br />\n\t\t\t\t <footer className=\"hero-foot\">\n\t\t\t    <div className=\"content has-text-centered\">\n\t\t\t     Made with <i className=\"fa fa-heart\" style={{color: \"rgb(235, 43, 86)\"}}></i> & <i className=\"fa fa-coffee\" style={{color: \"rgb(44, 31, 22)\"}}></i> in Orlando\n\t\t\t    <div className=\" content has-text-centered\">\n\t\t\t      <a href=\"https://bulma.io\">\n\t\t\t      <img src=\"https://bulma.io/images/made-with-bulma--black.png\" alt=\"Made with Bulma\" width=\"128\" height=\"24\" />\n\t\t\t      </a>\n\t\t\t    </div>\n\t\t\t\t\t</div>\n\t\t\t   </footer>\n       </div>\n    );\n  }\n}\n\nApp.modules = {\n  toolbar: [\n    [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n    [{size: []}],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [{'list': 'ordered'}, {'list': 'bullet'},\n     {'indent': '-1'}, {'indent': '+1'}],\n    ['link', 'image', 'video'],\n    ['clean']\n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  }\n}\n/*\n * Quill editor formats\n * See https://quilljs.com/docs/formats/\n */\nApp.formats = [\n  'header', 'font', 'size',\n  'bold', 'italic', 'underline', 'strike', 'blockquote',\n  'list', 'bullet', 'indent',\n  'link', 'image', 'video'\n]\n\n/*\n * PropType validation\n */\nApp.propTypes = {\n  placeholder: PropTypes.string,\n}\n\nrender(<App placeholder=\"Start here!\"/>, document.getElementById('root'));\n"],"sourceRoot":""}