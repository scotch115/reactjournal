{"version":3,"sources":["Hello.js","Date.js","Config.js","index.js"],"names":["name","date","DB_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","App","app","firebase","apps","length","initializeApp","database","ref","child","state","isSignedIn","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","GithubAuthProvider","callbacks","signInSuccessfulWithAuthResult","Date","today","getMonth","getDate","getFullYear","title","text","theme","entries","handleChange","bind","handleSubmit","value","this","setState","newTheme","on","snapshot","val","newState","entry","push","id","articleBody","unregisterAuthObserver","onAuthStateChanged","user","e","preventDefault","itemsRef","editedTxt","slice","signOut","then","console","log","error","itemId","remove","className","style","backgroundColor","height","padding","Hello","currentUser","displayName","onChange","modules","formats","bounds","placeholder","props","type","onClick","map","removeItem","signOutCurrentUser","color","href","src","alt","width","firebaseAuth","Component","toolbar","size","clipboard","matchVisual","render","document","getElementById"],"mappings":"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","file":"static/js/main.daa81811.chunk.js","sourcesContent":["import React from 'react';\n\nexport default ({ name }) => <h1>Hello {name}!</h1>;\n","import React from 'react';\n\nexport default ({ date }) => <p>Today's date is {date} </p>;","export const DB_CONFIG = {\n\tapiKey: \"AIzaSyBljVtRAbzvQMdzIskfxb_HSUrs5vKcNBk\",\n\tauthDomain: \"react-journal-cf451.firebaseapp.com\",\n\tdatabaseURL: \"https://react-journal-cf451.firebaseio.com\",\n\tprojectId: \"react-journal-cf451\",\n\tstorageBucket: \"react-journal-cf451.appspot.com\",\n\tmessagingSenderId: \"768206838911\",\n\tappId: \"1:768206838911:web:5ec346a9b6692b3627334a\",\n\tmeasurementId: \"G-7D2X5J80G6\"\n};\n","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Hello from './Hello';\nimport Today from './Date';\nimport PropTypes from 'prop-types';\nimport ReactQuill from 'react-quill';\nimport firebase from 'firebase';\nimport { DB_CONFIG } from './Config';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\n\nclass App extends Component {\n  constructor() {\n    super();\n\t\tthis.app = !firebase.apps.length ? firebase.initializeApp(DB_CONFIG) : firebase.app();\n\t\tthis.database = this.app.database().ref().child('entries');\n\n\t\tthis.state = {\n\t\t\tisSignedIn: false\n\t\t}\n\n\t\tconst uiConfig = {\n\t\t\tsignInFlow: 'popup',\n\t\t\tsignInOptions: [\n\t\t\t\tfirebase.auth.GoogleAuthProvider.PROVIDER_ID,\n\t\t\t\tfirebase.auth.GithubAuthProvider.PROVIDER_ID\n\t\t\t],\n\t\t\tcallbacks: {\n\t\t\t\tsignInSuccessfulWithAuthResult: () => false\n\t\t\t}\n\t\t};\n\n\n    var date = new Date();\n    var today = (date.getMonth()+1)+'/'+date.getDate()+'/'+date.getFullYear();\n\t\tvar title = (date.getMonth()+1)+'/'+date.getDate();\n\n    this.state = {\n      name: 'Friend',\n      date: today,\n      text: '',\n      theme: 'snow',\n\t\t\ttitle: title,\n\t\t\tentries: [],\n\t\t\tisSignedIn: false,\n\t\t\tuiConfig: uiConfig,\n    };\n    this.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange (value) {\n    this.setState({\n\t\t\ttext: value\n\t\t});\n  }\n\n  handleThemeChange (newTheme) {\n    if (newTheme === \"core\") {\n      newTheme = null;\n      this.setState({ theme: newTheme });\n    }\n  }\n\n\tcomponentDidMount() {\n\t\tconst itemsRef = firebase.database().ref('entries/');\n\t\t// TODO: Add user-specific database folders based on login\n\t\t// firebase.auth().onAuthStateChanged(function(user){\n\t\t// \tif (user) {\n\t\t// \t\titemsRef = firebase.database().ref(`entries/${firebase.auth().currentUser.displayName}`);\n\t\t// \t}\n\t\t// \telse {\n\t\t// \t\titemsRef = firebase.database().ref('entries/default');\n\t\t// \t}\n\t\t// });\n\t\titemsRef.on('value', (snapshot) => {\n\t\t\tlet entries = snapshot.val();\n\t\t\tlet newState = [];\n\t\t\tfor (let entry in entries) {\n\t\t\t\tnewState.push({\n\t\t\t\t\tid: entry,\n\t\t\t\t\ttitle: entries[entry].title,\n\t\t\t\t\tarticleBody: entries[entry].articleBody\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tentries: newState\n\t\t\t});\n\t\t});\n\t\tthis.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\n\t\t\t(user) => this.setState({isSignedIn: !!user})\n\t\t);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\n\t\t\t(user) => this.setState({isSignedIn: !!user})\n\t\t);\n\t}\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst itemsRef = firebase.database().ref('entries/');\n\t\tvar editedTxt = this.state.text.slice(3, this.state.text.length - 4);\n\t\tconst entry = {\n\t\t\ttitle: this.state.title,\n\t\t\tarticleBody: editedTxt\n\t\t}\n\t\titemsRef.push(entry);\n\t\tthis.setState({\n\t\t\ttitle: '',\n\t\t\tarticleBody: '',\n\t\t\ttext: ''\n\t\t});\n\t}\n\n\tsignOutCurrentUser(e) {\n\t\tfirebase.auth().signOut().then(function() {\n\t\t\tconsole.log('User signed out');\n\t\t}, function(error) {\n\t\t\tconsole.error('Error signing out', error);\n\t\t});\n\t}\n\n\tremoveItem(itemId) {\n\t\tconst itemRef = firebase.database().ref(`/entries/${itemId}`);\n\t\titemRef.remove();\n\t}\n\n\n\n  render() {\n\t\tif (!this.state.isSignedIn) {\n\t\t\treturn(\n\t\t\t\t<div className=\"container box\">\n\t\t\t\t\t<div className=\" title is-4 has-text-centered\">React Journal</div>\n\t\t\t\t\t<p className=\"has-text-centered\">Please sign in:</p>\n\t\t\t\t\t<StyledFirebaseAuth uiConfig={this.state.uiConfig} firebaseAuth={firebase.auth()} />\n\t\t\t\t\t</div>\n\t\t\t)\n\t\t};\n    return (\n      <div className=\"container\" style={{ backgroundColor: \"white\", height: \"100vh\", padding: \"10px\"}}>\n        <div className=\"title\">\n          <Hello name={firebase.auth().currentUser.displayName} />\n        </div>\n        <div className=\"subtitle\">\n          <Today date={this.state.date} />\n        </div>\n        <div>\n          <p>Begin your day here:</p>\n          <ReactQuill\n            theme={this.state.theme}\n            onChange={this.handleChange}\n            value={this.state.text}\n            modules={App.modules}\n            formats={App.formats}\n            bounds={'.app'}\n            placeholder={this.props.placeholder}\n          />\n         <br />\n         <button className=\"button\" type=\"submit\" onClick={this.handleSubmit}>Save entry</button>\n         </div>\n         <br />\n         <div className=\"container box\" style={{backgroundColor: \"white\"}}>\n         <p className=\"title is-4\">Past Entries</p>\n          <div className=\"tile is-ancestor\">\n            <div className=\"tile is-vertical is-parent\" id=\"tileContainer\">\n\t\t\t\t\t\t{this.state.entries.map((entry) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"tile box is-child notification is-white\">\n\t\t\t\t\t\t\t\t<button className=\"delete\" onClick={() => this.removeItem(entry.id)}></button>\n\t\t\t\t\t\t\t\t\t<p className=\"title is-5\">{entry.title}</p>\n\t\t\t\t\t\t\t\t\t<div className=\"has-text-centered\" style={{padding: \"10px\"}}></div>\n\t\t\t\t\t\t\t\t\t{entry.articleBody}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n          </div>\n         </div>\n\t\t\t\t <button className=\"button is-rounded\" onClick={this.signOutCurrentUser}>Sign Out</button>\n\t\t\t\t <br /><br />\n\t\t\t\t <footer className=\"hero-foot\">\n\t\t\t    <div className=\"content has-text-centered\">\n\t\t\t     Made with <i className=\"fa fa-heart\" style={{color: \"rgb(235, 43, 86)\"}}></i> & <i className=\"fa fa-coffee\" style={{color: \"rgb(44, 31, 22)\"}}></i> in Orlando\n\t\t\t    <div className=\" content has-text-centered\">\n\t\t\t      <a href=\"https://bulma.io\">\n\t\t\t      <img src=\"https://bulma.io/images/made-with-bulma--black.png\" alt=\"Made with Bulma\" width=\"128\" height=\"24\" />\n\t\t\t      </a>\n\t\t\t    </div>\n\t\t\t\t\t</div>\n\t\t\t   </footer>\n       </div>\n    );\n  }\n}\n\nApp.modules = {\n  toolbar: [\n    [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n    [{size: []}],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [{'list': 'ordered'}, {'list': 'bullet'},\n     {'indent': '-1'}, {'indent': '+1'}],\n    ['link', 'image', 'video'],\n    ['clean']\n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  }\n}\n/*\n * Quill editor formats\n * See https://quilljs.com/docs/formats/\n */\nApp.formats = [\n  'header', 'font', 'size',\n  'bold', 'italic', 'underline', 'strike', 'blockquote',\n  'list', 'bullet', 'indent',\n  'link', 'image', 'video'\n]\n\n/*\n * PropType validation\n */\nApp.propTypes = {\n  placeholder: PropTypes.string,\n}\n\nrender(<App placeholder=\"Start here!\"/>, document.getElementById('root'));\n"],"sourceRoot":""}